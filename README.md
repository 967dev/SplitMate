# Разделение чеков для Telegram Mini App

Веб-приложение, которое можно встроить в Telegram Mini App для удобного расчёта, кто сколько кому должен по общим расходам (ресторан, кино, поездки и т.п.).

## Возможности

- **Участники**: добавление имен людей, которые участвуют в общих расходах.
- **Расходы (чеки)**:
  - указание описания (ресторан, кино, продукты и т.д.);
  - сумма расхода;
  - кто заплатил;
  - кто участвовал в расходе и в каких долях (по умолчанию делится поровну — доля 1 для всех).
- **Автоматический перерасчёт**:
  - для каждого участника считается общий баланс (он должен / ему должны);
  - строится список минимальных переводов «кто → кому → сколько».
- **Персональный вид**:
  - можно выбрать участника и увидеть только его баланс и только те переводы, в которых он участвует.

## Как запустить локально

1. Установите любой простой HTTP-сервер, либо:
   - если у вас есть Node.js, можно установить глобально, например, `npm install -g serve` или `npm install -g http-server`.
2. В корне проекта (где лежит `index.html`) выполните:

   ```bash
   serve .
   # или
   http-server .
   ```

3. Откройте в браузере адрес, который покажет сервер (обычно `http://localhost:3000` или `http://localhost:8080`).

> Можно также просто открыть `index.html` двойным кликом, но для Telegram Mini App всё равно потребуется сервер.

## Подключение как Telegram Mini App (WebApp)

1. Создайте бота через `@BotFather` и включите для него поддержку WebApp:
   - укажите URL, по которому будет доступно это приложение (например, ваш домен или страницу на хостинге).
2. В коде бота используйте параметр `reply_markup` с `web_app`:

   ```json
   {
     "reply_markup": {
       "keyboard": [
         [
           {
             "text": "Открыть разделение чеков",
             "web_app": {
               "url": "https://your-domain.com"
             }
           }
         ]
       ],
       "resize_keyboard": true
     }
   }
   ```

3. Внутри `index.html` уже есть небольшой код, который:
   - вызывает `Telegram.WebApp.expand()`, чтобы растянуть мини-приложение;
   - подстраивает тему (тёмная/светлая) под Telegram.

На этом этапе логика расчёта полностью работает на клиенте (в браузере). При желании вы можете:

- добавить сохранение данных на сервере и авторизацию через Telegram `initData`;
- сделать общий доступ к одной «сессии» расходов для нескольких пользователей.

